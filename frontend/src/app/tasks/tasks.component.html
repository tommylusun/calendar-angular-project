<div class="outer-container">

  <div class="tab-container row">
    <ul class="nav col-6">
      <li class="nav-item">
        <a class="nav-link" (click)="showCal=!showCal" href="#">Calendar</a>
      </li>
      
    </ul>
    <ul class="nav navbar-right col-6">
        <li class="nav-item">
            <a class="nav-link" (click)="changeView('day')" href="#">Day</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" (click)="changeView('week')" href="#">Week</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" (click)="changeView('month')" href="#">Month</a>
          </li>
      <li class="nav-item create-tab ">
        <a class="nav-link create-task " (click)="showForm=!showForm" href="#">Create Task</a>
        <div class="create-task-component" *ngIf="showForm==true">
            <app-create-task class="" (submitPressed)="addTask($event)"></app-create-task>
          </div>
      </li>

    </ul>
  </div>

  <div class="row">

    <div class="col-5" *ngIf="showCal">
      <app-calendar></app-calendar>
    </div>

    <div class="col">

      <div class="component-background outer-box">

        <div *ngIf="view === 'day'">
          <h3>Your tasks for Today</h3>
          <div class="header row">
            <div class="col">
              <span class="chevron left" (click)="prevDay()"></span>
              <label class="task-list-title">{{getTitle()}}</label>
              <span class="chevron right" (click)="nextDay()"></span>
            </div>
          </div>
          <h3 class="task-type-header"></h3>
          <div *ngFor="let task of showTasks">
            <div *ngIf="task.type==='Daily'">
              <app-task-item [taskItem]="task" [day]="day" (deletePressed)="deleteTask($event)"></app-task-item>
            </div>
          </div>
        </div>



        <div *ngIf="view === 'week'">
          <h3>Your tasks for week of</h3>
          <div class="header row">
            <div class="col">
              <span class="chevron left" (click)="prevDay()"></span>
              <label class="task-list-title">{{getTitle()}}</label>
              <span class="chevron right" (click)="nextDay()"></span>
            </div>
          </div>
          <h3 class="task-type-header"></h3>
          <h3>Weekly Tasks</h3>
          <div *ngFor="let task of showTasks">
            <div *ngIf="task.type==='Weekly'">
              <app-task-item [taskItem]="task" [day]="day" (deletePressed)="deleteTask($event)"></app-task-item>
            </div>
          </div>
          <h3 class="task-type-header"></h3>
          <table>
            <thead>
              <td class="table-headers" *ngFor="let day of dayNames">{{day}}</td>
            </thead>

            <tbody>
              <tr>
                <td *ngFor="let day of weekTasks">
                  <div *ngFor="let task of day">
                    <div *ngIf="task.type==='Daily'">
                      <div>
                        <p class="task-name" (click)="checkTask(task)">
                          {{task.name}}
                        </p>
                      </div>
                    </div>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>

        </div>

      </div>
    </div>

  </div>











  <div class="row">
    <!-- Create Task Form Component -->
    <!-- <div class="col create-task-component">
      <app-create-task class="" #createTask [currentDate]="day" (submitPressed)="addTask($event)"></app-create-task>
    </div> -->

    <div class="col" *ngIf="">
      <!-- Header of Tasks List -->
      <div class="top-row">
        <!-- <button class="btn btn-info" (click)="prevDay()">Prev Day</button> -->
        <span class="task-list-title">{{day.toDateString()}}</span>
        <!-- <button class="btn btn-info" (click)="nextDay()">Next Day</button> -->
      </div>

      <!-- Overall Tasks List -->
      <div class="outer-box component-background rounded col">
        <div class="tasks-list rounded">
          <div class="container">

            <!-- Monthly Tasks List -->
            <h3 class="task-type-header">This Month's Tasks</h3>
            <div *ngFor="let task of showTasks">
              <div *ngIf="task.type==='Monthly'">
                <app-task-item [taskItem]="task" [day]="day" (deletePressed)="deleteTask($event)"></app-task-item>
              </div>
            </div>

            <!-- Weeky Tasks List -->
            <h3 class="task-type-header">This Week's Tasks</h3>
            <div *ngFor="let task of showTasks">
              <div *ngIf="task.type==='Weekly'">
                <app-task-item [taskItem]="task" [day]="day" (deletePressed)="deleteTask($event)"></app-task-item>
              </div>
            </div>

            <!-- Daily Tasks List -->
            <h3 class="task-type-header">Today's Tasks</h3>
            <div *ngFor="let task of showTasks">
              <div *ngIf="task.type==='Daily'">
                <app-task-item [taskItem]="task" [day]="day" (deletePressed)="deleteTask($event)"></app-task-item>
              </div>
            </div>
            <!-- End Daily Tasks List -->
          </div>
        </div>
      </div>

      <!-- End Tasks List -->
    </div>

  </div>

</div>
